<% content_for :title do %>
  <%= @article.title %> | > SRE Devlog
<% end %>

<% content_for :ogp_meta_tags do %>
  <meta property="og:title" content="<%= @article.title %>">
  <meta property="og:description" content="<%= article_description(@article) %>">
  <meta property="og:image" content="<%= ogp_image_url(@article) %>">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="> SRE Devlog">
  <meta property="og:url" content="<%= request.original_url %>">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="<%= @article.title %>">
  <meta name="twitter:description" content="<%= article_description(@article) %>">
  <meta name="twitter:image" content="<%= ogp_image_url(@article) %>">
<% end %>

<% content_for :breadcrumb do %>
  ~/sre_devlog/articles/<%= @article.slug %> >
<% end %>

<article class="article-detail">
  <header class="article-detail-header">
    <time class="article-detail-date font-accent">[<%= @article.published_at.strftime("%Y-%m-%d") %>]</time>
    <h1 class="article-detail-title"><%= @article.title %></h1>
  </header>

  <div class="article-content">
    <%= raw(@article.body) %>
  </div>

  <div class="deploy-section" data-controller="deploy">
    <%= button_to deploy_article_path(@article),
        method: :post,
        class: "deploy-button",
        data: { action: "click->deploy#launch" } do %>
      ðŸš€ Deploy <span id="deploy-count" class="deploy-count"><%= @article.deploys_count %></span>
    <% end %>
  </div>

  <footer class="article-detail-footer">
    <%= link_to root_path, class: "back-link font-accent" do %>
      > cd ~
    <% end %>
  </footer>
</article>
